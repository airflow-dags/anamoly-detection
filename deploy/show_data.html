<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script>
    function fetchData(){
        $.ajax({
            url: 'http://minio-ml-workshop-fmv3.apps.dbs-indo-1.apac-1.rht-labs.com/image-prediction/MidFinger.txt',
            dataType: 'text',
        }).done(successFunctionOne);
        $.ajax({
            url: 'http://minio-ml-workshop-fmv3.apps.dbs-indo-1.apac-1.rht-labs.com/image-prediction/Person.txt',
            dataType: 'text',
        }).done(successFunctionPerson);
        $.ajax({
            url: 'http://minio-ml-workshop-fmv3.apps.dbs-indo-1.apac-1.rht-labs.com/image-prediction/Background.txt',
            dataType: 'text',
        }).done(successFunctionBackground);

    }
    function successFunctionOne(data){
        // console.log(data)
        $('#one').empty().append(data)
    }
    function successFunctionPerson(data){
        $('#person').empty().append(data)
    }
    function successFunctionBackground(data){
        $('#background').empty().append(data)
    }

    function successFunction(data) {
        var allRows = data.split(/\r?\n|\r/);
        var table = '<table>';
        for (var singleRow = 0; singleRow < allRows.length; singleRow++) {
            if (singleRow === 0) {
                table += '<thead>';
                table += '<tr>';
            } else {
                table += '<tr>';
            }
            var rowCells = allRows[singleRow].split(',');
            for (var rowCell = 0; rowCell < rowCells.length; rowCell++) {
                if (singleRow === 0) {
                    table += '<th>';
                    table += rowCells[rowCell];
                    table += '</th>';
                } else {
                    table += '<td>';
                    table += rowCells[rowCell];
                    table += '</td>';
                }
            }
            if (singleRow === 0) {
                table += '</tr>';
                table += '</thead>';
                table += '<tbody>';
            } else {
                table += '</tr>';
            }
        }
        table += '</tbody>';
        table += '</table>';
        $('body').append(table);
    }

    setInterval(fetchData, 500);
</script>

<body>
<table>
    <tbody>
    <tr>
        <td>One</td>
        <td id="one"></td>
    </tr>
    <tr>
        <td>Person</td>
        <td id="person"></td>
    </tr>
    <tr>
        <td>Background</td>
        <td id="background"></td>
    </tr>
    </tbody>
</table>

</body>
